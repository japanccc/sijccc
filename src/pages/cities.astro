---
// pages/cities.astro
import { cities } from "../data/citiesData.js";
import StudentLayout from "../layouts/StudentLayout.astro";
---

<StudentLayout title="全国の拠点 | StudentImpact Japan">
  <div class="container py-5">
    <div class="row mb-5">
      <div class="col-12 text-center">
        <h1 class="display-4 fw-bold mb-3">全国の拠点</h1>
        <p class="lead col-md-8 mx-auto">
          StudentImpactは日本全国8つの地域で活動しています。<br />
          あなたの近くのグループを見つけて、新しい友達と出会いましょう。
        </p>
      </div>
    </div>

    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4 mb-5">
      {
        cities.map((city) => (
          <div class="col">
            <div class="card h-100 shadow-sm hover-card">
              <div class="card-body">
                <h2 class="h4 card-title">{city.name}拠点</h2>
                <p class="card-text text-muted mb-3">
                  {city.description.length > 100
                    ? city.description.substring(0, 100) + "..."
                    : city.description}
                </p>
                <p class="mb-0">
                  <small class="text-muted">{city.meetingInfo}</small>
                </p>
              </div>
              <div class="card-footer bg-transparent border-top-0">
                <a
                  href={`/city/${city.id}`}
                  class="btn btn-outline-primary w-100"
                >
                  詳細を見る
                </a>
              </div>
            </div>
          </div>
        ))
      }
    </div>

    <div class="row mb-4">
      <div class="col-12">
        <div class="card shadow-sm">
          <div class="card-body">
            <h2 class="h4 mb-4 text-center">日本全国の拠点マップ</h2>
            <div class="ratio ratio-21x9">
              <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d13607028.036037639!2d127.75806887420454!3d36.56179855912443!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x34674e0fd77f192f%3A0xf54275d47c665244!2sJapan!5e0!3m2!1sen!2sus!4v1712019568461!5m2!1sen!2sus"
                style="border:0;"
                allowfullscreen=""
                loading="lazy"
              >
              </iframe>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-lg-8 mx-auto">
        <div class="card bg-primary text-white">
          <div class="card-body p-4 text-center">
            <h3 class="mb-3">拠点が見つからない？</h3>
            <p class="mb-4">
              あなたの地域で新しいグループを始めるお手伝いをします。
            </p>
            <a href="/contact" class="btn btn-light">
              <i class="bi bi-envelope me-2"></i>お問い合わせ
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</StudentLayout>

<style>
  .hover-card {
    transition:
      transform 0.3s ease,
      box-shadow 0.3s ease;
  }

  .hover-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1) !important;
  }
</style>
