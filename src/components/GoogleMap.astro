---
interface Props {
  address: string;
  zoom?: number;
  height?: string;
  apiKey?: string;
  mapType?: "roadmap" | "satellite" | "hybrid" | "terrain";
  className?: string;
  title?: string;
}

const {
  address,
  zoom = 16,
  height = "450px",
  apiKey = "AIzaSyDXbrQhbrrdjSTVaPzJeILiZP_asMgUIrw", // Replace with your actual API key
  mapType = "roadmap",
  className = "",
  title = "地図",
} = Astro.props;

// Encode the address for the URL
const encodedAddress = encodeURIComponent(address);

// Build the Google Maps embed URL
// const mapUrl = `https://www.google.com/maps/embed/v1/place?key=${apiKey}&q=${encodedAddress}&zoom=${zoom}&language=ja&maptype=${mapType}`;
---

<div class={`google-map-container ${className}`}>
  {
    title && (
      <h3 class="alt-font fw-600 text-dark-gray mb-3 text-center">{title}</h3>
    )
  }
  <div
    class="ratio ratio-16x9 border-radius-6px overflow-hidden"
    style={`height: ${height};`}
  >
    <!-- Map Section -->
    <section class="position-relative pt-0 pb-100 md-pb-70px">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-xl-9 col-lg-10">
            <div class="card border-radius-6px p-4 box-shadow-large">
              <h3 class="alt-font fw-500 text-dark-gray mb-20px text-center">
                日本全国の拠点マップ
              </h3>
              <div class="ratio ratio-16x9 border-radius-6px overflow-hidden">
                <!-- Replace with your actual map or iframe -->
                <iframe
                  src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d13493.944389694709!2d139.76498850000002!3d35.681236!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60188c0d02d8064d%3A0xd11a5f0b379e6db7!2z5p2x5Lqs6YO95Y2D5Luj55Sw5Yy6!5e0!3m2!1sja!2sjp!4v1712017025601!5m2!1sja!2sjp"
                  width="600"
                  height="450"
                  style="border:0;"
                  allowfullscreen=""
                  loading="lazy"
                  referrerpolicy="no-referrer-when-downgrade"
                >
                </iframe>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>

<style>
  .google-map-container {
    width: 100%;
  }
</style>
